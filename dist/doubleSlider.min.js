var DoubleSlider=function(){function t(e,i,n,s,r,h){var o=this;if(void 0===i&&(i=0),void 0===n&&(n=100),void 0===s&&(s=16),void 0===r&&(r=!0),void 0===h&&(h=!0),this.min=i,this.max=n,this.sliderWidth=s,this.autoUpdate=r,this.emitEvents=h,this.el="string"==typeof e?document.querySelector(e):e,!this.el)throw new Error("Element was undefined");var a=this.el.getBoundingClientRect();this.width=a.width,this.x=a.x,this.sliderMin=new t.Thumb(this.el.querySelector(".lower"),this),this.sliderMax=new t.Thumb(this.el.querySelector(".upper"),this),this.sliderMin.setPercent(i),this.sliderMax.setPercent(n),this.diff=this.el.querySelector(".track-diff"),window.addEventListener("mousemove",function(t){return o.mouseX=t.x}),window.addEventListener("mouseup",function(){o.sliderMin.stopDrag(),o.sliderMax.stopDrag()})}return t.prototype.mousePercent=function(){if(this.autoUpdate){var t=this.el.getBoundingClientRect();this.x=t.x,this.width=t.width}var e=(this.mouseX-this.x)/this.width*100;return e<0?0:e>100?100:e},t.prototype.change=function(){var t=this.sliderMin.getPercent(),e=this.sliderMax.getPercent();if(e-t-1<=0)return this.sliderMin.setPercent(this.min,!1),void this.sliderMax.setPercent(this.max,!1);this.min=t,this.max=e,this.updateDiff(),this.emitEvents&&this.el.dispatchEvent(new CustomEvent("change",{detail:{target:this}}))},t.prototype.getMin=function(){return this.min},t.prototype.getMax=function(){return this.max},t.prototype.setMin=function(t){void 0===t&&(t=0),t>=this.max||(this.min=t,this.sliderMin.setPercent(this.min),this.change())},t.prototype.setMax=function(t){void 0===t&&(t=0),t<=this.min||(this.max=t,this.sliderMax.setPercent(this.max),this.change())},t.prototype.updateDiff=function(){this.diff&&(this.diff.style.left=this.min+"%",this.diff.style.width=this.max-this.min+"%")},t.Thumb=function(){function t(t,e){var i=this;if(this.percent=0,this.interval=0,!t)throw new Error("Thumb was undefined");this.parent=e,this.el=t,this.el.addEventListener("mousedown",function(t){t.preventDefault(),t.stopPropagation(),i.interval=setInterval(function(){i.drag()},2)})}return t.prototype.setPercent=function(t,e){void 0===e&&(e=!0),this.percent=t,this.el.style.left="calc("+t+"% - "+this.parent.sliderWidth/2+"px)",e&&this.parent.change()},t.prototype.getPercent=function(){return this.percent},t.prototype.stopDrag=function(){this.interval&&(clearInterval(this.interval),this.interval=0)},t.prototype.drag=function(){this.setPercent(this.parent.mousePercent())},t}(),t}();