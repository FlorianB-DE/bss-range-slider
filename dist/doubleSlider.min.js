var DoubleSlider=function(){function t(t,e,i,n){var s=this;if(void 0===e&&(e=0),void 0===i&&(i=100),void 0===n&&(n=16),this.min=e,this.max=i,this.sliderWidth=n,this.el="string"==typeof t?document.querySelector(t):t,!this.el)throw new Error("Element was undefined");var r=this.el.getBoundingClientRect();this.width=r.width,this.x=r.x,this.sliderMin=new Thumb(this.el.querySelector(".lower"),this),this.sliderMax=new Thumb(this.el.querySelector(".upper"),this),this.sliderMin.setPercent(e),this.sliderMax.setPercent(i),this.diff=this.el.querySelector(".track-diff"),window.addEventListener("mousemove",function(t){return s.mouseX=t.x}),window.addEventListener("mouseup",function(){s.sliderMin.stopDrag(),s.sliderMax.stopDrag()})}return t.prototype.mousePercent=function(){var t=(this.mouseX-this.x)/this.width*100;return t<0?0:t>100?100:t},t.prototype.change=function(){var t=this.sliderMin.getPercent(),e=this.sliderMax.getPercent();if(e-t-1<=0)return this.sliderMin.setPercent(this.min,!1),void this.sliderMax.setPercent(this.max,!1);this.min=t,this.max=e,this.updateDiff(),this.el.dispatchEvent(new CustomEvent("change",{detail:{target:this}}))},t.prototype.updateDiff=function(){this.diff&&(this.diff.style.left=this.min+"%",this.diff.style.width=this.max-this.min+"%")},t}(),Thumb=function(){function t(t,e){var i=this;if(this.percent=0,this.interval=0,!t)throw new Error("Thumb was undefined");this.parent=e,this.el=t,this.el.addEventListener("mousedown",function(){i.interval=setInterval(function(){i.drag()},2)})}return t.prototype.drag=function(){this.setPercent(this.parent.mousePercent())},t.prototype.setPercent=function(t,e){void 0===e&&(e=!0),this.percent=t,this.el.style.left="calc("+t+"% - "+this.parent.sliderWidth/2+"px)",e&&this.parent.change()},t.prototype.getPercent=function(){return this.percent},t.prototype.stopDrag=function(){this.interval&&(clearInterval(this.interval),this.interval=0)},t}();